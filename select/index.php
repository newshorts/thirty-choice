<?php
    $lightboxArr = array(
        1 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61393506?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        2 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61393505?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        3 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61393507?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        4 => array('title' => 'This is a title', 'images' => array(
            '../images/path/to/images.jpg',
            '../images/path/to/images.jpg',
            '../images/path/to/images.jpg'
        )),
        5 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61393323?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        6 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393321?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        7 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393320?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        8 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393319?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        9 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393318?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        10 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393145?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        11 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393144?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        12 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393142?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        13 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393139?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        14 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393136?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        15 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393007?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        16 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393006?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        17 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393005?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        18 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393004?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        19 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61393001?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        20 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61392327?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        21 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61392326?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        22 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61392324?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        23 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61392323?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        24 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61392322?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        25 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61391864?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        26 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61391863?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        27 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61391862?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        28 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61391861?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        29 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61391859?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        30 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61391398?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        31 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61391397?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        32 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61391396?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        33 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61391715?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        34 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61391393?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        35 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61391144?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        36 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61392869?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        37 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61391143?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        38 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61391139?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        39 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61391138?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        40 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61391136?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        41 => array('title' => 'This is a title', 'video' => 'http://player.vimeo.com/video/61392867?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        42 => array('title' => 'title', 'images' => array(
            '../images/path/to/images.jpg',
            '../images/path/to/images.jpg',
            '../images/path/to/images.jpg'
        )),
        43 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61385504?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        44 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61394273?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        45 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61385498?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        46 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61385494?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        47 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61385220?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        48 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61385218?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        49 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61392868?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        50 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61385217?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
        51 => array('title' => 'title', 'images' => array(
            '../images/path/to/images.jpg',
            '../images/path/to/images.jpg',
            '../images/path/to/images.jpg'
        )),
        52 => array('title' => 'title', 'video' => 'http://player.vimeo.com/video/61385215?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'),
    );
    
    function genId($length = 10) {
        $characters = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
        $randomString = '';
        for ($i = 0; $i < $length; $i++) {
            $randomString .= $characters[rand(0, strlen($characters) - 1)];
        }
        return $randomString;
    }

    function composeGalleryBlock($i, $image_arr, $h) {
        $id = genId(7);

        $length = count($image_arr);

        $str = '';

        for($x = 0; $x < $length; $x++) {
            $str .= '<a class="videoLink fancybox" rel="gallery'.$i .'" href="'.$image_arr[$x].'"></a>';
        }

        $block = <<<BLOCK
    <div class="videoContainer" id="$id">
        <div class="video" data-key="$id" data-heading="$h">
            <img class="videoThumb" src="../images/40x40/$i.jpg" />
            <img class="videoTile" src="../images/150x150/$i.jpg" />
            $str
        </div>
    </div>
BLOCK;
        return $block;
    }

    function composeVimeoBlock($i, $url, $h) {
        $id = genId(7);

        $block = <<<BLOCK
    <div class="videoContainer" id="$id">
        <div class="video" data-key="$id" data-heading="$h">
            <img class="videoThumb" src="../images/40x40/$i.jpg" />
            <img class="videoTile" src="../images/150x150/$i.jpg" />
            <a class="videoLink fancybox-media" href="$url"></a>
        </div>
    </div>
BLOCK;
        return $block;
    }

    function outputBlock($lb) {

        $length = count($lb);

        for($i = 1; $i <= 52; $i++) {

            if(isset($lb[$i]['images'])) {
                $image_arr = $lb[$i]['images'];
                $h = $lb[$i]['title'];
                $block = composeGalleryBlock($i, $image_arr, $h);
            } else {
                $url = $lb[$i]['video'];
                $h = $lb[$i]['title'];
                $block = composeVimeoBlock($i, $url, $h);
            }

            echo $block;
        }
    }
?>
<!-- 
    Author: Mike Newell © 2012
-->
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html>
    <head>
        <title>GSP 30th Anniversary</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" type="text/css" href="../css/reset.css" />
        <link rel="stylesheet" type="text/css" href="../css/style.css" />
        <link rel="stylesheet" type="text/css" href="../css/select.css" />
        <style>
            
        </style>
    </head>
    <body>
        <div id="wrap">
            <hr class="redBar" />
            <div id="container">
                <header>
                    <a href="#"><img src="../images/logo.png" /></a>
                    <hr />
                    <div class="nav"></div>
                </header>
                <section>
                    <header><h1>Start Voting</h1></header>
                    <article>
                        <p>Click to video any of the campaigns. Drag your favorites into your Top 10 list on the right. You can re-order your ranking before you submit. There is space for “write-in” votes. <strong>Votes are due by 5 p.m. PDT, Friday, March 22.</strong></p>
                    </article>
                    <article>
                        <div class="videos">
                            
                            <?php outputBlock($lightboxArr); ?>
                            
                            <div class="clear"></div>
                        </div>
                        <ul class="choices">
                            <h2>Top 10</h2>
                            <li class="choice">
                                <div class="choiceDrop empty"></div>
                                <span>1.</span>
                                <div class="choiceTitle"></div>
                                <div class="clear"></div>
                            </li>
                            <li class="choice">
                                <div class="choiceDrop empty"></div>
                                <span>2.</span>
                                <div class="choiceTitle"></div>
                                <div class="clear"></div>
                            </li>
                            <li class="choice">
                                <div class="choiceDrop empty"></div>
                                <span>3.</span>
                                <div class="choiceTitle"></div>
                                <div class="clear"></div>
                            </li>
                            <li class="choice">
                                <div class="choiceDrop empty"></div>
                                <span>4.</span>
                                <div class="choiceTitle"></div>
                                <div class="clear"></div>
                            </li>
                            <li class="choice">
                                <div class="choiceDrop empty"></div>
                                <span>5.</span>
                                <div class="choiceTitle"></div>
                                <div class="clear"></div>
                            </li>
                            <li class="choice">
                                <div class="choiceDrop empty"></div>
                                <span>6.</span>
                                <div class="choiceTitle"></div>
                                <div class="clear"></div>
                            </li>
                            <li class="choice">
                                <div class="choiceDrop empty"></div>
                                <span>7.</span>
                                <div class="choiceTitle"></div>
                                <div class="clear"></div>
                            </li>
                            <li class="choice">
                                <div class="choiceDrop empty"></div>
                                <span>8.</span>
                                <div class="choiceTitle"></div>
                                <div class="clear"></div>
                            </li>
                            <li class="choice">
                                <div class="choiceDrop empty"></div>
                                <span>9.</span>
                                <div class="choiceTitle"></div>
                                <div class="clear"></div>
                            </li>
                            <li class="choice">
                                <div class="choiceDrop empty"></div>
                                <span>10.</span>
                                <div class="choiceTitle"></div>
                                <div class="clear"></div>
                            </li>
                        </ul>
                        <div class="clear"></div>
                    </article>
                </section>
            </div><!-- end container -->
        </div><!-- end wrap -->
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.min.js"></script>
        
        <!-- Add mousewheel plugin (this is optional) -->
	<script type="text/javascript" src="../lib/jquery.mousewheel-3.0.6.pack.js"></script>

	<!-- Add fancyBox main JS and CSS files -->
	<script type="text/javascript" src="../source/jquery.fancybox.js?v=2.1.4"></script>
	<link rel="stylesheet" type="text/css" href="../source/jquery.fancybox.css?v=2.1.4" media="screen" />

	<!-- Add Button helper (this is optional) -->
	<link rel="stylesheet" type="text/css" href="../source/helpers/jquery.fancybox-buttons.css?v=1.0.5" />
	<script type="text/javascript" src="../source/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>

	<!-- Add Thumbnail helper (this is optional) -->
	<link rel="stylesheet" type="text/css" href="../source/helpers/jquery.fancybox-thumbs.css?v=1.0.7" />
	<script type="text/javascript" src="../source/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>

	<!-- Add Media helper (this is optional) -->
	<script type="text/javascript" src="../source/helpers/jquery.fancybox-media.js?v=1.0.5"></script>
        
        <script src="../js/cufon.js"></script>
        <script src="../js/berthold.js"></script>
        <script src="../js/class.js"></script>
        <script src="../js/choices.js"></script>
        <script>
            (function($) {
                $(window).load(function() {
                    
                    var c = new Choices();
                    
                    Cufon.replace('h1, p, h2');
                    
                    $('.fancybox-media')
                    .attr('rel', 'media-gallery')
                    .fancybox({
                        openEffect : 'none',
                        closeEffect : 'none',
                        prevEffect : 'none',
                        nextEffect : 'none',

                        arrows : false,
                        helpers : {
                            media : {},
                            buttons : {}
                        }
                    });
                    
                });
            })(jQuery);
        </script>
    </body>
</html>
